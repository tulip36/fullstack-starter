# 双语支持系统设计

## 目的
为中餐馆点餐系统实现英文/中文双语支持，默认英文界面，支持用户切换。

## 影响范围
- 前端：国际化(i18n)集成
- 后端：多语言数据支持
- 数据库：语言字段扩展

## 实现方案

### 前端国际化
使用next-i18next实现客户端国际化：

```
lib/i18n/
├── config.ts              // i18n配置
├── locales/
│   ├── en/
│   │   ├── common.json
│   │   ├── menu.json
│   │   ├── orders.json
│   │   └── tables.json
│   └── zh/
│       ├── common.json
│       ├── menu.json
│       ├── orders.json
│       └── zh.json
└── types.ts               // 类型定义
```

### 语言切换组件
```
components/i18n/
├── LanguageSwitcher.tsx   // 语言切换器
├── LocalizedText.tsx      // 本地化文本组件
└── useTranslation.ts      // 翻译钩子
```

### 后端多语言支持
数据库字段扩展：
- 所有用户可见文本字段添加中文版本
- API响应包含当前语言数据
- 菜单项、分类、修饰符支持双语

### 语言检测
- 浏览器语言自动检测
- 用户偏好存储
- URL参数覆盖（?lang=zh）

## 翻译内容

### 界面文本
- 导航菜单
- 按钮标签
- 表单标签
- 状态消息
- 错误提示

### 业务数据
- 菜单项名称和描述
- 修饰符名称
- 餐桌区域名称
- 订单状态

### 文化适应
- 日期格式本地化
- 货币显示格式
- 度量单位（华氏/摄氏度）

## 性能优化
- 按需加载语言包
- 翻译缓存
- CDN分发

## 测试要求
- 语言切换测试
- 翻译完整性测试
- 文化适应测试
- 性能测试

## 验收标准
- [ ] 英文/中文无缝切换
- [ ] 所有文本正确翻译
- [ ] 文化元素适配
- [ ] 性能不受影响